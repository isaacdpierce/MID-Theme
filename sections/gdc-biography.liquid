{%- liquid
  
  assign ss = section.settings

  assign title = ss.title
  assign subtitle = ss.subtitle
  assign text = ss.text
  assign image = ss.image
  
-%}

<section class="gdc-biography__wrapper section--{{ section.id }}">
  <div class="gdc-biography__image section--{{ section.id }}">
    {% render 'gdc-image', image: image %}
  </div>
  {% render 'gdc-section-paragraph', title: title, subtitle: subtitle, text: text, section: section %}

</section>

<style>
  .gdc-biography__wrapper.section--{{ section.id }} {
    display: flex;
    margin-top: {{ ss.t_margin }}px;
    margin-bottom: {{ ss.b_margin }}px;
    padding-top: {{ ss.t_padding }}px;
    padding-bottom: {{ ss.b_padding }}px;
    background-color: {{ ss.bg_color }};
  }

  .gdc-biography__image.section--{{ section.id }} {
    width: {{ ss.image_width }}px;
    height: {{ ss.image_width }}px;
    border-radius: {{ ss.image_radius }}%;
  }

  .gdc-biography__image.section--{{ section.id }} img {
    width: 100%;
    height: 100%;
    object-fit: {{ ss.image_fit }};
    object-position: {{ ss.image_h_position }}% {{ ss.image_v_position }}%;
    opacity: {{ ss.image_opacity }}
  }


</style>

{% schema %}
{
  "name": "GDC: Biography", 
  "settings": [
    {
      "type": "header",
      "content": "Section Settings" 
    },
    {
      "type": "range",
      "id": "t_margin",
      "label": "Section Top margin",
      "default": 0,
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px" 
    },
    {
      "type": "range",
      "id": "b_margin",
      "label": "Section Bottom margin",
      "default": 0,
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "t_padding",
      "label": "Section Top padding",
      "default": 0,
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px" 
    },
    {
      "type": "range",
      "id": "b_padding",
      "label": "Section Bottom padding",
      "default": 0,
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#ededed"
    },
    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_width",
      "label": "Image Width",
      "default": 200,
      "min": 100,
      "max": 400,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "image_radius",
      "label": "Image Radius (Rounded corners)",
      "default": 0,
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "%"
    },
    {
      "type": "select",
      "id": "image_fit",
      "default": "cover",
      "options": [
         { "value": "cover", "label": "Cover"},
         { "value": "contain", "label": "Contain"}
      ],
      "label": "Image Fit"    
    },
    {
      "type": "range",
      "id": "image_h_pos",
      "label": "Image Horizontal Position",
      "default": 50,
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "%"
    },
    {
      "type": "range",
      "id": "image_v_pos",
      "label": "Image Vertical Position",
      "default": 50,
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "%"
    },
    {
      "type": "range",
      "id": "image_opacity",
      "label": "Image Opacity",
      "default": 1.0,
      "min": 0,
      "max": 1.0,
      "step": 0.1
    },
    {
      "type": "header",
      "content": "Text Settings"
    },
    {
      "type": "color",
      "id": "left_text_color",
      "label": "Text color",
      "default": "#fff"
    },
    {
      "type": "select",
      "id": "left_text_align",
      "options": [
         { "value": "left", "label": "Left"},
         { "value": "center", "label": "Center"},
         { "value": "right", "label": "Right"}
      ],
      "label": "Text Alignment" 
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }, 
    {
      "type": "range",
      "id": "title_size",
      "label": "Title Font Size",
      "default": 36,
      "min": 16,
      "max": 116,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "label": "Subtitle Font Size",
      "default": 24,
      "min": 14,
      "max": 114,
      "step": 1,
      "unit": "px" 
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Rich Text"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text Font Size",
      "default": 16,
      "min": 9,
      "max": 48,
      "step": 1,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "GDC: Biography",
      "category": "GDC Custom Components" 
    }
  ]
}
{% endschema %}